{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/工作/shengxianbao/pagesB/ProductDetail/ProductDetail.vue?008b","webpack:///D:/工作/shengxianbao/pagesB/ProductDetail/ProductDetail.vue?4b5d","webpack:///D:/工作/shengxianbao/pagesB/ProductDetail/ProductDetail.vue?3593","uni-app:///pagesB/ProductDetail/ProductDetail.vue","webpack:///D:/工作/shengxianbao/pagesB/ProductDetail/ProductDetail.vue?a6f1","webpack:///D:/工作/shengxianbao/pagesB/ProductDetail/ProductDetail.vue?b88a","webpack:///D:/工作/shengxianbao/pagesB/ProductDetail/ProductDetail.vue?8ec1","webpack:///D:/工作/shengxianbao/pagesB/ProductDetail/ProductDetail.vue?4e46"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pagesB/ProductDetail/ProductDetail.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesB/ProductDetail/ProductDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./ProductDetail.vue?vue&type=template&id=957eeea4&scoped=true&\"\nvar renderjs\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductDetail.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./ProductDetail.vue?vue&type=style&index=1&id=957eeea4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"957eeea4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesB/ProductDetail/ProductDetail.vue\"\nexport default component.exports","export * from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ProductDetail.vue?vue&type=template&id=957eeea4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ProductDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ProductDetail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"app\">\r\n\t\t<pageHeader ref=\"pageHeader\"></pageHeader>\r\n\t\t<!-- 轮播图 -->\r\n\t\t<mix-swiper :list=\"data.images\"></mix-swiper>\r\n\t\t\r\n\t\t<view class=\"introduce\">\r\n\t\t\t<view class=\"price row\">\r\n\t\t\t\t<view class=\"mr10\">\r\n\t\t\t\t\t¥<text class=\"p\">{{selectData.unitPrice}}</text><text class=\"u\">/{{selectData.productUnit}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tag\" v-if=\"data.productTag\">\r\n\t\t\t\t\t{{data.productTag}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"title\">{{ data.productName }}</text>\r\n\t\t\t\r\n\t\t\t<view class=\"spec row mt30\">\r\n\t\t\t\t<view \r\n\t\t\t\tclass=\"item column mr20\" \r\n\t\t\t\t@click=\"selectSpec(spec,sIndex)\"\r\n\t\t\t\t:class=\"specActive==sIndex?'spec_active':'' \"\r\n\t\t\t\tv-for=\"(spec,sIndex) in data.productSkuList\" \r\n\t\t\t\t:key=\"sIndex\">\r\n\t\t\t\t\t<view class=\"s1\">\r\n\t\t\t\t\t\t{{spec.productModel}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"s2\">\r\n\t\t\t\t\t\t¥{{spec.unitPrice}}/{{spec.productUnit}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"c-list\">\r\n\t\t\t<view v-if=\"data.skuData\" class=\"row b-b\" @click=\"showPopup('skuPopup')\">\r\n\t\t\t\t<text class=\"tit\">购买类型</text>\r\n\t\t\t\t<view class=\"con\">\r\n\t\t\t\t\t<text class=\"attr\">{{ currentSku.name || '' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"mix-icon icon-you\"></text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"row b-b\" @click=\"navTo('/pages/coupon/receiveCoupon', {login: true})\">\r\n\t\t\t\t<text class=\"tit\">优惠券</text>\r\n\t\t\t\t<text class=\"con red\">领取优惠券</text>\r\n\t\t\t\t<text class=\"mix-icon icon-you\"></text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"row b-b\">\r\n\t\t\t\t<text class=\"tit\">服务</text>\r\n\t\t\t\t<view class=\"con\">\r\n\t\t\t\t\t<text  class=\"service mr20\" v-for=\"(d,i) in data.productService\" :key=\"i\">{{d}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 评价 -->\r\n\t\t<view id=\"rating\" class=\"rating-wrap column\" :class=\"{'no-data': !ratingData.data}\">\r\n\t\t\t<view class=\"e-header\" @click=\"navTo('/pages/rating/rating?id='+data._id)\">\r\n\t\t\t\t<text class=\"tit\">商品评价</text>\r\n\t\t\t\t<text>({{ ratingData.count || 0 }})</text>\r\n\t\t\t\t<text class=\"tip\">好评率 {{ data.rating_ratio || 100 }}%</text>\r\n\t\t\t\t<text class=\"mix-icon icon-you\"></text>\r\n\t\t\t</view> \r\n\t\t</view>\r\n\t\t<view class=\"detail-desc\">\r\n\t\t\t<view class=\"d-header center\">\r\n\t\t\t\t<text>图文详情</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- <rich-text :nodes=\"data.content\"></rich-text> -->\r\n\t\t</view>\r\n\t\t<!-- 底部操作菜单 -->\r\n\t\t<bottom-operation \r\n\t\t:infoData=\"data\" \r\n\t\t:selectData=\"selectData\" \r\n\t\t@onOprationClick=\"onOprationClick\">\r\n\t\t</bottom-operation>\r\n\t\t<!-- 规格面板 -->\r\n\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport pageHeader from './components/detail-page-header'//页面头\r\n\timport mixSwiper from './components/mix-swiper'//轮播图\r\n\timport bottomOperation from './components/bottom-operation'//底部栏\r\n\tlet _anchorList = [];\r\n\texport default{\r\n\t\tcomponents: {\r\n\t\t\tpageHeader,\r\n\t\t\tmixSwiper,\r\n\t\t\tbottomOperation,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentSku: {},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\timages: [],\r\n\t\t\t\t},\r\n\t\t\t\tspecActive:0,\r\n\t\t\t\tselectData:{},\r\n\t\t\t\tratingData: {}, //评价\r\n\t\t\t\tid:'',\r\n\t\t\t\tskuId:'',\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options){\r\n\t\t\tthis.id = options.id;\r\n\t\t\tthis.skuId=options.skuId\r\n\t\t\t// this.loadRating(); //加载评价\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.loadData();\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tthis.$refs.pageHeader && this.$refs.pageHeader.pageScroll(e);\r\n\t\t},\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tonShareAppMessage(res) {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.data.title,\r\n\t\t\t\tpath: '/pages/product/detail?id='+this.data._id,\r\n\t\t\t\timageUrl: this.data.thumb\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\tmethods:{\r\n\t\t\tasync loadData(){\r\n\t\t\t\tconst data = await this.$http('api/pms/productcategory/getProductSkuIdInfo', {\r\n\t\t\t\t\tproductId: this.id || 7\r\n\t\t\t\t})\r\n\t\t\t\tdata.productImageVoList.forEach(item=>{\r\n\t\t\t\t\titem.src=item.imageUrl\r\n\t\t\t\t})\r\n\t\t\t\tdata.images=data.productImageVoList\r\n\t\t\t\tlet index=data.productSkuList.findIndex((item)=>{\r\n\t\t\t\t\treturn item.productSkuId==this.skuId\r\n\t\t\t\t}) || 0\r\n\t\t\t\tthis.specActive=index\r\n\t\t\t\tthis.selectData={\r\n\t\t\t\t\t...data.productSkuList[index],\r\n\t\t\t\t\tproductName:data.productName,\r\n\t\t\t\t\timageUrl:data.productImageVoList[0].imageUrl\r\n\t\t\t\t}\r\n\t\t\t\tthis.data = data;\r\n\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\tthis.calcAnchor();//计算锚点参数\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t//添加浏览历史\r\n\t\t\t\tthis.addProductHistory();\r\n\t\t\t},\r\n\t\t\t//加载评价\r\n\t\t\tasync loadRating(){\r\n\t\t\t\tconst res = await this.$request('rating', 'getDetailRating', {\r\n\t\t\t\t\tproduct_id: this.id,\r\n\t\t\t\t})\r\n\t\t\t\tthis.ratingData = res;\r\n\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\tthis.calcAnchor();//计算锚点参数\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择规格\r\n\t\t\tselectSpec(item,index){\r\n\t\t\t\tthis.specActive=index\r\n\t\t\t\tthis.selectData=Object.assign(this.selectData,item)\r\n\t\t\t},\r\n\t\t\t//加入购物车\r\n\t\t\taddToCart(){\r\n\t\t\t\tthis.$util.throttle(async ()=>{\r\n\t\t\t\t\tconst data = this.getConfirmData();\r\n\t\t\t\t\tif(!data){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst res = await this.$request('cart', 'add', data, {\r\n\t\t\t\t\t\tshowLoading: true,\r\n\t\t\t\t\t\tlogin: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif(!res){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.log(res)\r\n\t\t\t\t\tthis.$util.msg(res.msg);\r\n\t\t\t\t\tif(res.status === 1){\r\n\t\t\t\t\t\tthis.hidePopup('skuPopup');\r\n\t\t\t\t\t\tthis.$store.dispatch('getCartCount');//更新购物车数量\r\n\t\t\t\t\t\tuni.$emit('refreshCart');//更新购物车\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//立即购买\r\n\t\t\tbuyNow(){\r\n\t\t\t\tconst data = this.getConfirmData();\r\n\t\t\t\tif(!data){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.hidePopup('skuPopup');\r\n\t\t\t\tthis.navTo('/pages/order/createOrder?data='+JSON.stringify(data), {\r\n\t\t\t\t\tlogin: true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//设置当前选择sku\r\n\t\t\tsetCurrentSku(data){\r\n\t\t\t\tthis.currentSku = data;\r\n\t\t\t},\r\n\t\t\t//获取当前sku 如果没有sku返回默认规格\r\n\t\t\tgetConfirmData(){\r\n\t\t\t\tconst sku = this.currentSku._id ? this.currentSku: this.data.sku[0];\r\n\t\t\t\tif(sku.stock <= 0 || this.data.stock <= 0){\r\n\t\t\t\t\tthis.$util.msg('库存不足');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tproduct_id: this.data._id,\r\n\t\t\t\t\tnumber: this.$refs.skuPopup.buyNumber || 1,\r\n\t\t\t\t\tsku: this.currentSku._id ? this.currentSku: this.data.sku[0]\r\n\t\t\t\t}\r\n\t\t\t\treturn data;\r\n\t\t\t},\r\n\t\t\t//计算锚点参数\r\n\t\t\tasync calcAnchor(){\r\n\t\t\t\tconst size = await new Promise(res => {\r\n\t\t\t\t\tuni.createSelectorQuery().select('#rating').boundingClientRect(data => {\r\n\t\t\t\t\t\tres(data);\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t});\r\n\t\t\t\tconst headerHeight = this.systemInfo.statusBarHeight + this.systemInfo.navigationBarHeight;\r\n\t\t\t\tconst a1 = (size ? size.top : 0) - headerHeight;\r\n\t\t\t\tconst a2 = (size ? size.bottom : 0) + uni.upx2px(12) - headerHeight;\r\n\t\t\t\tthis.$refs.pageHeader.anchorList[1].top = a1;\r\n\t\t\t\tthis.$refs.pageHeader.anchorList[2].top = a2;\r\n\t\t\t\t_anchorList = [0, a1, a2];\r\n\t\t\t},\r\n\t\t\t//添加浏览历史\r\n\t\t\taddProductHistory(){\r\n\t\t\t\tconst data = this.data;\r\n\t\t\t\tlet list = uni.getStorageSync('productHistory');\r\n\t\t\t\tif(!list){\r\n\t\t\t\t\tlist = [];\r\n\t\t\t\t}\r\n\t\t\t\tconst index = list.findIndex(item=> item.id === data._id);\r\n\t\t\t\tif(index !== -1){\r\n\t\t\t\t\tlist.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t\tlist.unshift({\r\n\t\t\t\t\tid: data._id,\r\n\t\t\t\t\tthumb: data.thumb\r\n\t\t\t\t})\r\n\t\t\t\tuni.setStorageSync('productHistory', list);\r\n\t\t\t},\r\n\t\t\t//删除当前浏览历史\r\n\t\t\tdelHistory(){\r\n\t\t\t\tlet list = uni.getStorageSync('productHistory');\r\n\t\t\t\tif(!list){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst index = list.findIndex(item=> item._id === data._id);\r\n\t\t\t\tif(index === -1){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlist.splice(index, 1);\r\n\t\t\t\tuni.setStorageSync('productHistory', list);\r\n\t\t\t},\r\n\t\t\tshowPopup(key, type){\r\n\t\t\t\tthis.$refs[key].open(type);\r\n\t\t\t},\r\n\t\t\tonOprationClick(type){\r\n\t\t\t\tthis.showPopup('skuPopup', type);\r\n\t\t\t},\r\n\t\t\tdoAppShare(){\r\n\t\t\t\tthis.$util.throttle(async ()=>{\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t    provider: \"weixin\",\r\n\t\t\t\t\t    scene: 'WXSceneSession',\r\n\t\t\t\t\t    type: 5,\r\n\t\t\t\t\t\timageUrl: this.data.thumb,\r\n\t\t\t\t\t\ttitle: this.data.title,\r\n\t\t\t\t\t\tminiProgram: {\r\n\t\t\t\t\t\t\tid: 'gh_3dada2e0f833',\r\n\t\t\t\t\t\t\tpath: '/pages/product/detail?id='+this.data._id,\r\n\t\t\t\t\t\t\ttype: 0,\r\n\t\t\t\t\t\t\twebUrl: 'http://guoyunnet.com'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t    success: res=> {\r\n\t\t\t\t\t        console.log(\"success:\" + JSON.stringify(res));\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    fail: err=> {\r\n\t\t\t\t\t        console.log(\"fail:\" + JSON.stringify(err));\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.share(data);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage{\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n</style>\r\n<style scoped lang='scss'>\r\n\t.app{\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom); \r\n\t\t\r\n\t\t&:after{\r\n\t\t\tcontent: '';\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* 标题简介 */\r\n\t.introduce{\r\n\t\tbackground: #fff;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\t.price{\r\n\t\t\tcolor: $base-color;\r\n\t\t\tfont-size: 24upx;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\talign-items: baseline;\r\n\t\t\t.p{\r\n\t\t\t\tfont-size: 40upx;\r\n\t\t\t}\r\n\t\t\t.tag{\r\n\t\t\t\tborder: 2upx solid $base-color;\r\n\t\t\t\tcolor: $base-color;\r\n\t\t\t\tfont-size: 20upx;\r\n\t\t\t\tpadding: 2upx;\r\n\t\t\t\tmargin-left: 20upx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.title{\r\n\t\t\tmin-height: 44rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tline-height: 44rpx;\r\n\t\t\tfont-weight: 700;\r\n\t\t}\r\n\t\t.spec{\r\n\t\t\tpadding-top: 20upx;\r\n\t\t\tborder-top: 2upx solid #f1f1f1;\r\n\t\t\t.item{\r\n\t\t\t\tborder: 2upx solid #EBEBEB;\r\n\t\t\t\tpadding: 20upx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t\t.s1{\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t}\r\n\t\t\t\t.s2{\r\n\t\t\t\t\tfont-size: 22upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.spec_active{\r\n\t\t\t\tborder-color: #FF6304;\r\n\t\t\t\tbackground-color: #FFF1E9;\r\n\t\t\t\tcolor: #FF6304;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.c-list{\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #888;\r\n\t\tbackground: #fff;\r\n\t\t\r\n\t\t.row{\r\n\t\t\tmin-height: 82rpx;\r\n\t\t\tpadding: 16rpx 30rpx;\r\n\t\t\tposition:relative;\r\n\t\t\t\r\n\t\t\t&:after{\r\n\t\t\t\tborder-color: #eaeaea;\r\n\t\t\t}\r\n\t\t\t&:last-child:after{\r\n\t\t\t\tborder: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.tit{\r\n\t\t\twidth: 140rpx;\r\n\t\t}\r\n\t\t.con{\r\n\t\t\tflex: 1;\r\n\t\t\tcolor: #333;\r\n\t\t\t\r\n\t\t\t.attr{\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t}\r\n\t\t\t.service{\r\n\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\t\r\n\t\t\t\t&:last-child{\r\n\t\t\t\t\tmargin: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.con-list{\r\n\t\t\tcolor: #333;\r\n\t\t\t\r\n\t\t\ttext{\r\n\t\t\t\tline-height: 40rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.red{\r\n\t\t\tcolor: $base-color;\r\n\t\t}\r\n\t\t.icon-you{\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\t/* 评价 */\r\n\t.rating-wrap{\r\n\t\tpadding: 20rpx 30rpx 0rpx;\r\n\t\tbackground: #fff;\r\n\t\tmargin-top: 12rpx;\r\n\t\t\r\n\t\t&.no-data{\r\n\t\t\tpadding: 10rpx 30rpx 10rpx;\r\n\t\t}\r\n\t\t.e-header{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 70rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\t\t.tit{\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: 700;\r\n\t\t\tmargin-right: 4rpx;\r\n\t\t}\r\n\t\t.tip{\r\n\t\t\tflex: 1;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\ttext-align: right;\r\n\t\t}\r\n\t\t.icon-you{\r\n\t\t\tmargin-left: 8rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t\t.mix-rating-item::after{\r\n\t\t\tborder: 0;\r\n\t\t}\r\n\t}\r\n\t/*  详情 */\r\n\t.detail-desc{\r\n\t\tmargin-top: 12rpx;\r\n\t\tbackground: #fff;\r\n\t\t\r\n\t\t.d-header{\r\n\t\t\theight: 80rpx;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\t\t\r\n\t\t\ttext{\r\n\t\t\t\tmargin: 0 20rpx;\r\n\t\t\t}\r\n\t\t\t&:before, &:after{\r\n\t\t\t\tcontent: '';\r\n\t\t\t\twidth: 60rpx;\r\n\t\t\t\tborder-bottom: 1px solid #ccc; \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ProductDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ProductDetail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1642340169883\n      var cssReload = require(\"D:/开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ProductDetail.vue?vue&type=style&index=1&id=957eeea4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ProductDetail.vue?vue&type=style&index=1&id=957eeea4&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1642340170058\n      var cssReload = require(\"D:/开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}