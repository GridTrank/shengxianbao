{"version":3,"sources":["uni-app:///main.js","webpack:///D:/工作/shengxianbao/pages/ConfirmOrder/ConfirmOrder.vue?0409","webpack:///D:/工作/shengxianbao/pages/ConfirmOrder/ConfirmOrder.vue?5b6f","webpack:///D:/工作/shengxianbao/pages/ConfirmOrder/ConfirmOrder.vue?b754","webpack:///D:/工作/shengxianbao/pages/ConfirmOrder/ConfirmOrder.vue?96c0","uni-app:///pages/ConfirmOrder/ConfirmOrder.vue","webpack:///D:/工作/shengxianbao/pages/ConfirmOrder/ConfirmOrder.vue?f9e2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uInput","jPicker","bzDatePicker","password","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","popupStatus","e1","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,wD,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a;;;;2DCHX,kUACIC,EADJ,uKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,sCACZ,aAAAF,E;;;;2GCvBf,yoC;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,OAAQ,WACN,OAAO,gPAITC,QAAS,WACP,OAAO,6IAITC,aAAc,WACZ,OAAO,uLAITC,SAAU,WACR,OAAO,oJAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAASC,GAChBR,EAAIS,aAAc,GAGpBT,EAAIU,GAAK,SAASF,GAChBR,EAAIS,aAAc,KAIpBE,GAAmB,EACnBC,EAAkB,GACtBb,EAAOc,eAAgB,G;;;;2DCzDvB,2vBAAosB,eAAG,G;;;;0ICqIvsB,iCAGA,mB,04BAIA,CACA,KADA,WAEA,OACA,cACA,eACA,cACA,mBACA,WACA,YACA,iBACA,eACA,YACA,aACA,aACA,kBACA,eACA,eACA,uBACA,UACA,WACA,8DACA,WACA,eAEA,CACA,YACA,+DACA,WACA,eAEA,CACA,WACA,+DACA,WACA,aAEA,CACA,WACA,+DACA,WACA,cAGA,cACA,UACA,YACA,YACA,cACA,eAGA,YACA,YAEA,OACA,sBACA,kBACA,sBACA,qBACA,sBACA,8BACA,qBACA,gBAIA,eACA,+BAEA,OArEA,SAqEA,GACA,sBAGA,wBAEA,OA3EA,WA4EA,WAEA,2DACA,oBACA,eACA,yCACA,mFACA,GACA,kBACA,iBAGA,6BACA,wBACA,2EAGA,cACA,wBACA,eACA,6BACA,sEAIA,6BACA,2CACA,8BAIA,gBACA,yDADA,IAGA,UAHA,SAGA,cACA,eACA,2CACA,oBACA,0BACA,gBACA,kBACA,4BAEA,0EAEA,iBACA,oBACA,sBACA,mBACA,oBAGA,aArBA,WAqBA,WACA,2DACA,uBACA,gBAEA,gBAIA,UA9BA,WA8BA,WACA,kEACA,iBAIA,eApCA,WAoCA,WACA,yEACA,4BACA,iCACA,sBACA,sCACA,mBACA,QAKA,YAhDA,WAgDA,WACA,iEACA,iBAIA,gBAtDA,SAsDA,KACA,qBACA,iBACA,iCACA,qCACA,8BACA,qBACA,4BACA,eAIA,gBAlEA,SAkEA,KACA,sBACA,oCACA,KACA,qBAEA,iBAKA,wBA7EA,SA6EA,GACA,gBACA,qBAGA,eAlFA,WAmFA,qCAGA,QAtFA,SAsFA,GACA,4BACA,sBACA,gCACA,yCAEA,YA5FA,SA4FA,GACA,kBACA,oBAGA,YAjGA,WAiGA,WACA,OACA,eAOA,iBAMA,gDAEA,gCACA,0BAIA,aACA,WACA,iBACA,oBACA,cACA,mBACA,GACA,mCACA,mCACA,gCACA,mDACA,sCACA,8CACA,sCACA,yBACA,4CACA,gDACA,+CACA,YACA,4BACA,oBACA,gCAEA,oEACA,qBACA,OACA,sBACA,8BACA,uCAEA,0BA1CA,aACA,gBACA,mBATA,aACA,gBACA,eAwDA,aA9JA,SA8JA,cACA,wDACA,aACA,aACA,cAEA,uBACA,wCACA,UAIA,YA1KA,WA0KA,WACA,wCACA,2BACA,kBACA,YACA,uBACA,iBACA,oC;;;;2DCxaA,20CAA6xC,eAAG,G","file":"pages/ConfirmOrder/ConfirmOrder.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/ConfirmOrder/ConfirmOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./ConfirmOrder.vue?vue&type=template&id=af5aa274&scoped=true&\"\nvar renderjs\nimport script from \"./ConfirmOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConfirmOrder.vue?vue&type=style&index=0&id=af5aa274&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af5aa274\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/ConfirmOrder/ConfirmOrder.vue\"\nexport default component.exports","export * from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ConfirmOrder.vue?vue&type=template&id=af5aa274&scoped=true&\"","var components\ntry {\n  components = {\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    jPicker: function() {\n      return import(\n        /* webpackChunkName: \"components/jPicker/jPicker\" */ \"@/components/jPicker/jPicker.vue\"\n      )\n    },\n    bzDatePicker: function() {\n      return import(\n        /* webpackChunkName: \"components/bz-date-picker/bz-date-picker\" */ \"@/components/bz-date-picker/bz-date-picker.vue\"\n      )\n    },\n    password: function() {\n      return import(\n        /* webpackChunkName: \"components/password/password\" */ \"@/components/password/password.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.popupStatus = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.popupStatus = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ConfirmOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ConfirmOrder.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page_wrap\">\r\n\t\t<view class=\"wrap jc_sb row \" @click=\"selectDeliType\">\r\n\t\t\t<text class=\"f28-c333\">配送方式</text>\r\n\t\t\t<text class=\"f28-c999 \">{{shipMethod}}<text class=\"iconfont icon-jinru\"></text></text>\r\n\t\t</view>\r\n\t\t<!-- 地址 -->\r\n\t\t<view class=\"wrap jc_sb row mt20 second\">\r\n\t\t\t<text class=\"f28-c333\">{{deliveryTypeId==4?'配送':'自提'}}地址</text>\r\n\t\t\t<!-- 配送地址 -->\r\n\t\t\t<view class=\"user_info\" v-if=\"isSelectDeliAddress\">\r\n\t\t\t\t<view class=\"row info\">\r\n\t\t\t\t\t<text class=\"f32-c333 name\">{{addressDetail.accepter || addressDetail.pointName}}</text>\r\n\t\t\t\t\t<text class=\"f28-c999 phone\">{{addressDetail.telephone || addressDetail.contactsPhone}}</text>\r\n\t\t\t\t\t<!-- <text class=\"moren\">默认</text> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"address mt20 row jc_sb\"\r\n\t\t\t\t\t@click=\"navTo('/pagesB/Address/Address?pageType=confirmOrder&type='+deliveryTypeId)\">\r\n\t\t\t\t\t<text class=\"txt f28-c333\">{{addressDetail.addrDetails || addressDetail.pointAddr}}</text>\r\n\t\t\t\t\t<text class=\"iconfont icon-jinru\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 自提点 -->\r\n\t\t\t<view v-else class=\"user_info\">\r\n\t\t\t\t<view class=\"row jc_sb\"\r\n\t\t\t\t\t@click=\"navTo('/pagesB/Address/Address?pageType=confirmOrder&type='+deliveryTypeId)\">\r\n\t\t\t\t\t<text class=\"txt f28-c333\">请选择自提点</text>\r\n\t\t\t\t\t<text class=\"iconfont icon-jinru\"></text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 配送时间 -->\r\n\t\t<view class=\"wrap time mt20\">\r\n\t\t\t<view class=\"dist row jc_sb\" @click=\"popupStatus=true\">\r\n\t\t\t\t<text class=\"f28-c333\">{{deliveryTypeId==4?'配送':'自提'}}时间</text>\r\n\t\t\t\t<text class=\" f28-dc\">{{shipTime || '请选择配送时间'}}<text class=\"iconfont icon-jinru f28-c333\"></text>\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"goods row jc_sb mt30\">\r\n\t\t\t\t<view class=\"goods_img row\">\r\n\t\t\t\t\t<image v-for=\"(img,i) in orderDetail.orderBillProductImageList\" :key=\"i\" :src=\"img\" mode=\"\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text v-if=\"orderDetail.orderBillProductImageList\" class=\"f28-c999\">\r\n\t\t\t\t\t共{{orderDetail.orderBillProductImageList.length}}件\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 小费 -->\r\n\t\t<view class=\"wrap jc_sb row mt20\" v-if=\"deliveryTypeId==4\">\r\n\t\t\t<view class=\"tip\">\r\n\t\t\t\t<view class=\"f28-c333\">司机小费</view>\r\n\t\t\t\t<view class=\"f24-c999 mt10\">您所给的小费100%归司机所有</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"money row\">\r\n\t\t\t\t<view :class=\"['n',selectTip===index && 'select_tip']\" @click=\"selectTipHandle(item,index)\"\r\n\t\t\t\t\tv-for=\"(item,index) in tipMoney\" :key=\"index\">\r\n\t\t\t\t\t￥{{item.tipsAmount}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-input class=\"n\" border='none' type=\"text\" placeholder=\"自定\" v-model=\"customTip\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 支付方式 -->\r\n\t\t<view class=\"wrap mt20 pay_method\">\r\n\t\t\t<text class=\"tit f28-c333\">支付方式</text>\r\n\t\t\t<view class=\"list\">\r\n\t\t\t\t<view v-for=\"(item,index) in payList\" :key='index' class=\"item row jc_sb \"\r\n\t\t\t\t\t@click=\"selectPayHandle(item,index)\">\r\n\t\t\t\t\t<view class=\"left row\">\r\n\t\t\t\t\t\t<image class=\"l_img\" :src=\"item.paymentUrl\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text class=\"f28-c333\">{{item.paymentName}}</text>\r\n\t\t\t\t\t\t<text class=\"ml30 ye\" v-if=\"item.id==6\">({{userInfo.customerBalance}})</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image class=\"right\"\r\n\t\t\t\t\t\t:src=\"item.checked?'https://b2bmall2022.oss-cn-hangzhou.aliyuncs.com/quanzhong%402x.png':'https://b2bmall2022.oss-cn-hangzhou.aliyuncs.com/quan1%402x.png'\"\r\n\t\t\t\t\t\tmode=\"\"></image>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"arrears row\" v-if=\"userInfo.debtAmount>0\">\r\n\t\t\t\t欠款：<text class=\"m\">-￥{{userInfo.debtAmount}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 费用明细 -->\r\n\t\t<view class=\"wrap expense_detail mt20\">\r\n\t\t\t<view class=\"dist row jc_sb\">\r\n\t\t\t\t<text class=\"f28-c333\">商品总价</text>\r\n\t\t\t\t<text class=\"f28-c333\">¥{{orderDetail.goodsAmount}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"dist row jc_sb\">\r\n\t\t\t\t<text class=\"f28-c333\">运费</text>\r\n\t\t\t\t<text class=\"f28-c333\">¥{{orderDetail.logisticsAmount}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"dist row jc_sb\" v-if=\"deliveryTypeId==4\">\r\n\t\t\t\t<text class=\"f28-c333\">司机小费</text>\r\n\t\t\t\t<text class=\"f28-c333\">¥{{selectTipMoney || 0}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"dist row coupon jc_sb\"\r\n\t\t\t\t@click=\"navTo('/pagesA/Coupon/index?goodsAmount='+ orderDetail.goodsAmount+'&pageType=orderDetail')\">\r\n\t\t\t\t<text class=\"f28-c333\">优惠券</text>\r\n\t\t\t\t<text class=\"f28-c333 m\">¥{{ticketAmount}}\r\n\t\t\t\t\t<text class=\"iconfont icon-jinru\"></text>\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 备注 -->\r\n\t\t<view class=\"wrap remark mt20\">\r\n\t\t\t<view class=\"row jc_sb\">\r\n\t\t\t\t<text class=\"f28-c333 left\">备注</text>\r\n\t\t\t\t<u-input placeholder='请输入备注(选填)' v-model=\"remark\" border='none'></u-input>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 底部 -->\r\n\t\t<view class=\"foot wrap row \">\r\n\t\t\t<view class=\"left row\"> <text>¥{{totalAmount}}</text> <text class=\"f24-c333\">(含运费)</text></view>\r\n\t\t\t<view class=\" f24-c333\">优惠 <text>¥{{ticketAmount}}</text> </view>\r\n\t\t\t<view class=\"btn_default\" @click=\"submitOrder\">支付</view>\r\n\t\t</view>\r\n\t\t<jPicker ref='jPicker' title='配送方式' :options=\"columns\" valKey='dictValue' showKey=\"dictLabel\" @sure='confirm'>\r\n\t\t</jPicker>\r\n\r\n\t\t<bz-date-picker :value=\"popupStatus\" title=\"请选择时间\" minuteStep=\"10\" days=\"17\" minHour=\"6\" maxHour=\"22\"\r\n\t\t\tminMinute=\"0\" maxMinute=\"59\" @close=\"popupStatus=false\" @confirm=\"handleDatePickerConfirm\">\r\n\t\t</bz-date-picker>\r\n\t\t<password ref=\"password\" @passwordSub=\"passwordSub\"></password>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport password from '@/components/password/password'\r\n\timport {\r\n\t\tdate\r\n\t} from \"@/common/js/util\"\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowPicker: true,\r\n\t\t\t\tpopupStatus: false,\r\n\t\t\t\tshipMethod: '',\r\n\t\t\t\tdeliveryTypeId: '4',\r\n\t\t\t\tcolumns: [],\r\n\t\t\t\tlistType: '',\r\n\t\t\t\taddressDetail: {},\r\n\t\t\t\torderDetail: {},\r\n\t\t\t\ttipMoney: [],\r\n\t\t\t\tcustomTip: '',\r\n\t\t\t\tselectTip: '',\r\n\t\t\t\tselectTipMoney: '',\r\n\t\t\t\tselectPayId: '',\r\n\t\t\t\tticketAmount: 0,\r\n\t\t\t\tisSelectDeliAddress: true,\r\n\t\t\t\tpayList: [{\r\n\t\t\t\t\t\tlabel: '微信',\r\n\t\t\t\t\t\tsrc: 'https://b2bmall2022.oss-cn-hangzhou.aliyuncs.com/wx.png',\r\n\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\ttype: 'weixin'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '支付宝',\r\n\t\t\t\t\t\tsrc: 'https://b2bmall2022.oss-cn-hangzhou.aliyuncs.com/zfb.png',\r\n\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\ttype: 'apliay'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '银联',\r\n\t\t\t\t\t\tsrc: 'https://b2bmall2022.oss-cn-hangzhou.aliyuncs.com/yhk.png',\r\n\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\ttype: 'card'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '余额',\r\n\t\t\t\t\t\tsrc: 'https://b2bmall2022.oss-cn-hangzhou.aliyuncs.com/yhk.png',\r\n\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\ttype: 'card'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tbalancePsw:'',//余额密码\r\n\t\t\t\tremark: '',\r\n\t\t\t\tshipTime: '',\r\n\t\t\t\tuserInfo: {},\r\n\t\t\t\ttotalAmount: 0,\r\n\t\t\t\tcomAmount: '',\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tpassword\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t\"customTip\": function(val) {\r\n\t\t\t\tthis.selectTip = ''\r\n\t\t\t\tthis.selectTipMoney = val\r\n\t\t\t\tlet money = this.comAmount\r\n\t\t\t\tlet m = Number(money) + Number(val)\r\n\t\t\t\tthis.totalAmount = m.toFixed(2)\r\n\t\t\t\tthis.SET_ORDER_DATA({\r\n\t\t\t\t\tcustomTip: val\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['$orderData']),\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tthis.getDetail(e.ids)\r\n\t\t\t// this.shipTime=date('Y-m-d H-i',new Date().getTime())\r\n\t\t\t// 初始化订单数据\r\n\t\t\tthis.INIT_ORDER_DATA()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet that = this\r\n\t\t\t// 有选择优惠券\r\n\t\t\tif (that.$orderData.couponAmount && that.$orderData.couponAmount > 0) {\r\n\t\t\t\tlet data = that.orderDetail\r\n\t\t\t\tlet orderData = that.$orderData\r\n\t\t\t\tthat.ticketAmount = that.$orderData.couponAmount\r\n\t\t\t\tthat.totalAmount = that.comAmount = (data.goodsAmount + data.logisticsAmount - that.ticketAmount).toFixed(\r\n\t\t\t\t\t2)\r\n\t\t\t\tthat.SET_ORDER_DATA({\r\n\t\t\t\t\tcouponAmount: 0\r\n\t\t\t\t})\r\n\t\t\t\t// 有选择小费\r\n\t\t\t\tif (orderData.selectTip && orderData.selectTip > 0) {\r\n\t\t\t\t\tthat.selectTip = orderData.selectTip\r\n\t\t\t\t\tthat.totalAmount = (Number(that.totalAmount) + Number(orderData.selectTipMoney)).toFixed(2)\r\n\t\t\t\t}\r\n\t\t\t\t// 有自定义小费\r\n\t\t\t\tif (orderData.customTip) {\r\n\t\t\t\t\tthat.customTip = orderData.customTip\r\n\t\t\t\t\tthat.selectTip = ''\r\n\t\t\t\t\tthat.selectTipMoney = orderData.customTip\r\n\t\t\t\t\tthat.totalAmount = (Number(that.totalAmount) + Number(orderData.customTip)).toFixed(2)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 修改了地址\r\n\t\t\tif (that.$orderData.addressDetail) {\r\n\t\t\t\tthat.addressDetail = that.$orderData.addressDetail\r\n\t\t\t\tthis.isSelectDeliAddress = true\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['SET_ORDER_DATA', 'INIT_ORDER_DATA']),\r\n\t\t\t// 详情\r\n\t\t\tgetDetail(ids) {\r\n\t\t\t\tlet productSkuIdList = ids.split(',')\r\n\t\t\t\tthis.$http('api/oms/order/settleAccounts', {\r\n\t\t\t\t\tproductSkuIdList\r\n\t\t\t\t}, 'post').then(res => {\r\n\t\t\t\t\tthis.orderDetail = res\r\n\t\t\t\t\tthis.SET_ORDER_DATA({\r\n\t\t\t\t\t\tgoodsAmount: res.goodsAmount\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.totalAmount = this.comAmount = (res.goodsAmount + res.logisticsAmount).toFixed(2)\r\n\t\t\t\t})\r\n\t\t\t\tthis.getMyInfo()\r\n\t\t\t\tthis.getPayMethod()\r\n\t\t\t\tthis.getAddressList()\r\n\t\t\t\tthis.getTipsList()\r\n\t\t\t\tthis.getDictData()\r\n\t\t\t},\r\n\t\t\t// 获取支付方式\r\n\t\t\tgetPayMethod() {\r\n\t\t\t\tthis.$http('api/basepayment/payWayList').then(res => {\r\n\t\t\t\t\tres.forEach(item => {\r\n\t\t\t\t\t\titem.checked = false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.payList = res\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取个人信息\r\n\t\t\tgetMyInfo() {\r\n\t\t\t\tthis.$http('api/myOneslft/getMyInfo', '', 'post').then(res => {\r\n\t\t\t\t\tthis.userInfo = res\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取地址\r\n\t\t\tgetAddressList() {\r\n\t\t\t\tthis.queryUrl = this.deliveryTypeId == 4 ? 'api/myOneslft/getCustomerAddrList' :\r\n\t\t\t\t\t'api/bmallpickuppoint/page'\r\n\t\t\t\tthis.getList().then(res => {\r\n\t\t\t\t\tif (this.deliveryTypeId == 4) {\r\n\t\t\t\t\t\tthis.addressDetail = res.filter(item => {\r\n\t\t\t\t\t\t\treturn item.id == 13\r\n\t\t\t\t\t\t})[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取小费\r\n\t\t\tgetTipsList() {\r\n\t\t\t\tthis.$http('api/oms/order/tipsList', {}, 'post').then(res => {\r\n\t\t\t\t\tthis.tipMoney = res\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择小费\r\n\t\t\tselectTipHandle(item, index) {\r\n\t\t\t\tlet money = this.comAmount\r\n\t\t\t\tthis.selectTip = index\r\n\t\t\t\tthis.selectTipMoney = item.tipsAmount\r\n\t\t\t\tlet m = Number(money) + Number(item.tipsAmount)\r\n\t\t\t\tthis.totalAmount = m.toFixed(2)\r\n\t\t\t\tthis.SET_ORDER_DATA({\r\n\t\t\t\t\tselectTipMoney: item.tipsAmount,\r\n\t\t\t\t\tselectTip: index\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择支付方式\r\n\t\t\tselectPayHandle(item, index) {\r\n\t\t\t\tthis.selectPayId = item.id\r\n\t\t\t\tthis.payList.forEach((el, e) => {\r\n\t\t\t\t\tif (e == index) {\r\n\t\t\t\t\t\titem.checked = !item.checked\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.checked = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择日期\r\n\t\t\thandleDatePickerConfirm(e) {\r\n\t\t\t\tthis.shipTime = e\r\n\t\t\t\tthis.popupStatus = false\r\n\t\t\t},\r\n\t\t\t// 弹出配送方式\r\n\t\t\tselectDeliType() {\r\n\t\t\t\tthis.$refs.jPicker.pickerVisable = true\r\n\t\t\t},\r\n\t\t\t// 选择配送方式\r\n\t\t\tconfirm(e) {\r\n\t\t\t\tthis.shipMethod = e.dictLabel\r\n\t\t\t\tthis.getAddressList()\r\n\t\t\t\tthis.deliveryTypeId = e.dictValue\r\n\t\t\t\tthis.isSelectDeliAddress = e.dictValue == 4 ? true : false\r\n\t\t\t},\r\n\t\t\tpasswordSub(password){\r\n\t\t\t\tthis.balancePsw = password;\r\n\t\t\t\tthis.submitOrder();\r\n\t\t\t},\r\n\t\t\t// 支付\r\n\t\t\tsubmitOrder() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (!that.shipTime) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择配送时间',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!that.selectPayId) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择支付方式',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}else if(that.selectPayId == 6 && that.balancePsw.length < 6){\r\n\t\t\t\t\t// 余额支付\r\n\t\t\t\t\tthis.$refs.password.open();\r\n\t\t\t\t\tconsole.log('余额支付')\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确认支付吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tlet orderData = that.$orderData\r\n\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\t\"actualAmount\": Number(that.totalAmount),\r\n\t\t\t\t\t\t\t\t\"addressId\": orderData.id || that.addressDetail.id, //地址\r\n\t\t\t\t\t\t\t\t\"deliveryTypeId\": that.deliveryTypeId, //配送方式\r\n\t\t\t\t\t\t\t\t\"distributionTime\": that.deliveryTypeId == 4 ? that.shipTime : '', //配送时间\r\n\t\t\t\t\t\t\t\t\"goodsAmount\": that.orderDetail.goodsAmount, //商品金额\r\n\t\t\t\t\t\t\t\t\"logisticsAmount\": that.orderDetail.logisticsAmount, //运费\r\n\t\t\t\t\t\t\t \"orderAmount\": that.orderDetail.orderAmount, //订单金额\r\n\t\t\t\t\t\t\t\t\"orderWayId\": that.selectPayId, //支付方式\r\n\t\t\t\t\t\t\t\t\"pointTime\": that.deliveryTypeId == 3 ? that.shipTime : '', //自提时间段\r\n\t\t\t\t\t\t\t\t\"productSkuIdList\": that.orderDetail.productSkuIdList, //商品列表\r\n\t\t\t\t\t\t\t\t\"sumCount\": that.orderDetail.productSkuIdList.length, //商品数量\r\n\t\t\t\t\t\t\t\t\"taxAmount\": 0, //商品总税额\r\n\t\t\t\t\t\t\t\t\"ticketAmount\": that.ticketAmount, //优惠券抵扣金额\r\n\t\t\t\t\t\t\t\t\"ticketId\": orderData.ticketId, //\t优惠券id\r\n\t\t\t\t\t\t\t\t\"tipsAmount\": that.selectTipMoney || 0 //\t小费\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.$http('api/oms/order/shoppingCartPay', data, 'post').then(res => {\r\n\t\t\t\t\t\t\t\tif (that.selectPayId == 6) {\r\n\t\t\t\t\t\t\t\t\tlet balanceData = {\r\n\t\t\t\t\t\t\t\t\t\t\"orderCode\": res.orderCode,\r\n\t\t\t\t\t\t\t\t\t\t\"payType\": Number(that.selectPayId),\r\n\t\t\t\t\t\t\t\t\t\t\"orderAmount\": that.orderDetail.orderAmount\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.payBybalance(balanceData)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 余额支付\r\n\t\t\tpayBybalance(data) {\r\n\t\t\t\tthis.$http('api/alipay/pay', data, 'post').then(res => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.navTo('/pages/Order/Order?index=0')\r\n\t\t\t\t\t}, 1500)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取字典数据\r\n\t\t\tgetDictData() {\r\n\t\t\t\tthis.$http('api/dictData/dictDataList', {\r\n\t\t\t\t\tdictType: 'delivery_type'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.columns = res\r\n\t\t\t\t\tres.forEach(item => {\r\n\t\t\t\t\t\tif (item.dictValue == 4) {\r\n\t\t\t\t\t\t\tthis.shipMethod = item.dictLabel\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.page_wrap {\r\n\t\tpadding-bottom: 160upx;\r\n\r\n\t\t.wrap {\r\n\t\t\tpadding: 30upx;\r\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t.user_info {\r\n\t\t\t\twidth: 500upx;\r\n\r\n\t\t\t\t.phone {\r\n\t\t\t\t\tmargin: 0 20upx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.moren {\r\n\t\t\t\t\tcolor: $base-color;\r\n\t\t\t\t\tfont-size: 24upx;\r\n\t\t\t\t\tmargin-right: 20upx;\r\n\t\t\t\t\tbackground-color: #FFF9F3;\r\n\t\t\t\t\tpadding: 2upx 6upx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.address {\r\n\t\t\t\t\t.txt {\r\n\t\t\t\t\t\tmargin-right: 20upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.goods {\r\n\t\t\t\tpadding-top: 30upx;\r\n\t\t\t\tborder-top: 1px solid #EEEEEE;\r\n\r\n\t\t\t\t.goods_img {\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100upx;\r\n\t\t\t\t\t\theight: 100upx;\r\n\t\t\t\t\t\tmargin-right: 10upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.tip {\r\n\t\t\t\t.mt10 {\r\n\t\t\t\t\tfont-size: 20upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.money {\r\n\t\t\t\t.n {\r\n\t\t\t\t\tbackground-color: #f8f8f8;\r\n\t\t\t\t\tcolor: #AAAAAA;\r\n\t\t\t\t\tfont-size: 24upx;\r\n\t\t\t\t\tpadding: 20upx;\r\n\t\t\t\t\tmargin-left: 10upx;\r\n\t\t\t\t\tborder-radius: 8upx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/deep/ .u-input {\r\n\t\t\t\t\twidth: 50upx;\r\n\t\t\t\t\tpadding: 10upx !important;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/deep/ .input-placeholder {\r\n\t\t\t\t\tfont-size: 24upx !important;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.select_tip {\r\n\t\t\t\t\tbackground-color: #fff4ed;\r\n\t\t\t\t\tcolor: $base-color;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.second {\r\n\t\t\talign-items: flex-start;\r\n\t\t}\r\n\r\n\t\t.pay_method {\r\n\t\t\t.list {\r\n\t\t\t\tpadding: 30upx 0;\r\n\t\t\t\tmargin-top: 20upx;\r\n\t\t\t\tborder-top: 1px solid #EEEEEE;\r\n\t\t\t\tborder-bottom: 1px solid #EEEEEE;\r\n\r\n\t\t\t\t.item {\r\n\t\t\t\t\tpadding: 20upx 0;\r\n\t\t\t\t\tfont-size: 32upx;\r\n\r\n\t\t\t\t\t.left {\r\n\t\t\t\t\t\t.l_img {\r\n\t\t\t\t\t\t\twidth: 48upx;\r\n\t\t\t\t\t\t\theight: 48upx;\r\n\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\tmargin-right: 10upx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.ye {\r\n\t\t\t\t\t\t\tcolor: $base-color;\r\n\t\t\t\t\t\t\tfont-size: 24upx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.right {\r\n\t\t\t\t\t\twidth: 36upx;\r\n\t\t\t\t\t\theight: 36upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.arrears {\r\n\t\t\t\tpadding: 30upx;\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tjustify-content: flex-end;\r\n\r\n\t\t\t\t.m {\r\n\t\t\t\t\tcolor: $base-color;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.expense_detail {\r\n\t\t\t.dist {\r\n\t\t\t\tpadding: 30upx 0;\r\n\t\t\t\tborder-bottom: 1px solid #EEEEEE;\r\n\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tborder: none\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.m {\r\n\t\t\t\t\tcolor: $base-color;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.remark {\r\n\t\t\t.left {\r\n\t\t\t\tmargin-right: 80upx;\r\n\t\t\t}\r\n\r\n\t\t\t/deep/ .input-placeholder {\r\n\t\t\t\tfont-size: 24upx !important;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.foot {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tpadding: 30upx 0;\r\n\t\t\tborder-top: 1px solid #f1f1f1;\r\n\r\n\t\t\t.left {\r\n\t\t\t\tmargin: 0 30upx;\r\n\t\t\t\tcolor: $base-color;\r\n\t\t\t\tfont-size: 40upx;\r\n\t\t\t}\r\n\r\n\t\t\t.btn_default {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t\theight: 70upx;\r\n\t\t\t\tline-height: 70upx;\r\n\t\t\t\tpadding: 0 60upx;\r\n\t\t\t\tfont-size: 32upx;\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 30upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ConfirmOrder.vue?vue&type=style&index=0&id=af5aa274&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ConfirmOrder.vue?vue&type=style&index=0&id=af5aa274&scoped=true&lang=scss&\""],"sourceRoot":""}